<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
  <!-- css and bootstrap links -->
        <link rel="stylesheet" href="../static/files/css/bootstrap.min.css">
        <link rel="stylesheet" href="../static/files/css/bootstrap.min.css">
        <link rel="stylesheet" href="../static/files/css/style.css">
        <link rel="stylesheet" href="../static/files/css/lightslider.css">
        <!-- supporting js files -->
        <script src="../static/files/js/bootstrap.bundle.min.js"></script>
        <script src="../static/files/js/jquery.js"></script>
        <script src="../static/files/js/lightslider.js"></script>
        <script src="../static/files/js/script.js"></script>
</head>
<body class="p-2">
{%include 'navbar.html'%}

<div class="card m-auto" style="width:70%;border-radius:15px;background-color:bisque;border-color:transparent;">
    <div class="card-body">
        <p><b style="color:magenta">~~{{session['LoggedIn']}}</b><a href="#"><img src="../static/files/images/lily.jpg" style="border-radius:100px;float:right" alt="" height="50"
                        width="80" class="m-3"></a></p>
        <br>
        <br>
        <div class="card m-auto" style="width:fit-content;background:transparent;border-color:transparent;zoom:50%">
            <h4>What's on your mind?</h4>
            <h4 style="color:red"><b>{{error}}</b></h4>
            <h4 style="color:green"><strong>{{message}}</strong></h4>
        </div>
        <form action="" enctype="multipart/form-data" method="post" class="form-control m-auto" style="border-radius:15px;border-color:transparent;background-color:bisque;width:80%">
            <textarea name="user_post" class="expandable_input form-control"
                      spellcheck="true" autocomplete="on"
                      style="border-radius:15px;border-color:transparent;background-color:ghostwhite"></textarea>
            <br>
            <input type="file"  name="file" id="upload" style="display:none" accept="multipart/form-data">
              <button type="button" onclick="document.getElementById('upload').click()" class="btn btn-outline-success m-auto">Upload</button><br><br>
              <br>
            <input type="submit" value="Post" class="buy-btn m-auto" style="border-color:transparent;border-radius:5px;">
        </form>
    </div>
</div>


<script>
    (function() {
    function expandElementHeight(element) {
        element.style.height = "auto";
        element.style.height = element.scrollHeight + "px";
    }

    function attachAutoExpand(inputSelector) {
        var elements = document.querySelectorAll(inputSelector);
        elements.forEach(function(element) {
            if (element.tagName.toLowerCase() === "input") {
                element.addEventListener("input", function() {
                    this.style.width = (this.value.length + 1) + "ch";
                });
            } else if (element.tagName.toLowerCase() === "textarea") {
                element.addEventListener("input", function() {
                    expandElementHeight(this);
                });
            }
        });
    }

    window.autoExpandInput = function(inputSelector) {
        attachAutoExpand(inputSelector);
    };
})();

//Usage
        window.addEventListener("DOMContentLoaded", function() {
            autoExpandInput(".expandable_input");
        });
</script>

<style>
    .expandable_input{
    min-width: 80px;
    padding: 10px;
   border: 1px solid #ddd;
   display: block;
   margin: 12px 12px 24px 0px;
}
label{
   font-weight: 600;
   font-size: 16px;
   color: #444;
   margin-bottom: 10px;
}
.cd__main{
   display: block !important;
}
</style>
</body>
</html>